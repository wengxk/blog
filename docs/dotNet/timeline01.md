# 一些重要的概念

1. 进程：  
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;应用程序包括一系列可执行指令代码及相关应用数据，进程是应用程序一次执行活动的实体，是系统进行资源分配和调度的基本单位，进程间相互隔离。

2. 应用程序域：  
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;应用程序域AppDomain是.NET引入的一个新概念，是一组程序集的逻辑容器。CLR COM服务器初始化时会创建一个AppDomain，称之为“默认AppDomain”。默认AppDomain只有在进程终止时才会被销毁。除了默认AppDomain，进程内还可以创建其他程序域，用以加载其他程序集，进行其他活动。程序域之间相互隔离，不可直接访问各自创建的对象，但是对象可以“按引用封送”或“按值封送”的方式进行交互。这些额外创建的AppDomain可以主动卸载。

3. 线程：  
   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;线程是进程内的活动实体，线程本身不拥有系统资源，但是进程内的多个线程可以共享进程拥有的系统资源。进程创建时的主入口的所在的线程称之为“主线程”。线程拥有自己的线程栈，线程运行时所创建的单独的值类型数据会被存放在线程栈内，而引用类型会被存放在托管堆中。线程在多个应用程序域中游走，但是同一时刻只能被一个应用程序域所拥有，线程执行结束后会回到线程池。

4. 托管堆：  
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;进程初始化时CLR会从虚拟内存划出一片区域作为托管堆，同时CLR会维护一个指针，称之为NextObjPtr。该指针指向下一个对象的分配地址，最开始的时候该指针指向的地址称之为“基地址”。所有的对象（引用类型数据）都会被分配在托管堆内。当托管堆内的区域被垃圾对象填满时，CLR会为该托管堆分配更多的区域。对于垃圾对象，垃圾回收器则专门处理。一个进程只拥有一个托管堆。